From aef7f09d61a27e033f5ba0a8c359a498d9c8a24e Mon Sep 17 00:00:00 2001
From: Vitaly Zaitsev <vitaly@easycoding.org>
Date: Tue, 8 Jan 2018 21:31:46 +0100
Subject: [PATCH] Added AppData manifest file for Gnome Software. (#68)

Signed-off-by: Vitaly Zaitsev <vitaly@easycoding.org>
---
 docs/appdata/flameshot.appdata.xml | 25 +++++++++++++++++++++++++
 flameshot.pro                      |  6 +++++-
 2 files changed, 30 insertions(+), 1 deletion(-)
 create mode 100644 docs/appdata/flameshot.appdata.xml

diff --git a/docs/appdata/flameshot.appdata.xml b/docs/appdata/flameshot.appdata.xml
new file mode 100644
index 0000000..a592691
--- /dev/null
+++ b/docs/appdata/flameshot.appdata.xml
@@ -0,0 +1,25 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- Copyright 2018 Vitaly Zaitsev <vitaly@easycoding.org> -->
+<component type="desktop">
+  <id>flameshot.desktop</id>
+  <metadata_license>CC0-1.0</metadata_license>
+  <project_license>GPLv3+ and ASL 2.0 and GPLv2 and LGPLv3 and Free Art</project_license>
+  <name>Flameshot</name>
+  <summary>Powerful and simple to use screenshot software</summary>
+  <description>
+    <p>
+      Powerful and simple to use screenshot software with built-in
+      editor with advanced features.
+    </p>
+  </description>
+  <screenshots>
+    <screenshot type="default">
+      <image>https://raw.githubusercontent.com/lupoDharkael/flameshot/master/img/appPreview/usageStatic.png</image>
+    </screenshot>
+    <screenshot>
+      <image>https://raw.githubusercontent.com/lupoDharkael/flameshot/master/img/appPreview/animatedUsage.gif</image>
+    </screenshot>
+  </screenshots>
+  <url type="homepage">https://github.com/lupoDharkael/flameshot</url>
+  <update_contact>https://github.com/lupoDharkael</update_contact>
+</component>
diff --git a/flameshot.pro b/flameshot.pro
index 5994781..b20fbd0 100644
--- a/flameshot.pro
+++ b/flameshot.pro
@@ -193,6 +193,9 @@ unix: {
 
     completion.path = /usr/share/bash-completion/completions/
     completion.files = docs/bash-completion/flameshot
+    
+    appdata.path = $${BASEDIR}$${PREFIX}/share/appdata/
+    appdata.files = docs/appdata/flameshot.appdata.xml
 
     desktopentry.path = $${BASEDIR}$${USRPATH}/share/applications
     desktopentryinit.path = $${BASEDIR}$${USRPATH}/share/applications
@@ -219,6 +222,7 @@ unix: {
         qmfile \
         servicedbus \
         dbus \
-        completion
+        completion \
+        appdata
 }
 
-- 
2.14.3

